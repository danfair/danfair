!function(a){"use strict";var b={init:function(){this.$win=a(window),this.bodyClass=a("body").data("page-id"),this.determinePageTemplate(this.bodyClass)},determinePageTemplate:function(a){switch(a){case"front-page":this.isHome=!0;break;case"blog-page":this.isBlog=!0;break;case"about-page":this.isAbout=!0;break;case"contact-page":this.isContact=!0;break;case"project-page":this.isProject=!0;break;default:this.isOther=!0}}},c={init:function(){this.$mainHeader=a(".main-header"),this.$frontPageNav=a(".front-page-nav"),this.$mobileMenu=a(".main-nav__mobile-menu"),this.$navAnchorLink=this.$frontPageNav.find("li.menu-item:first-child a"),this.$heroButton=a(".see-work-button"),this.initEvents()},initEvents:function(){b.isHome&&(this.swapHomeMenu(),this.$heroButton.waypoint(this.handleStickyNav.bind(this)),this.$navAnchorLink.on("click",this.smoothScroll.bind(this)),this.$heroButton.on("click",this.smoothScroll.bind(this))),this.$mobileMenu.on("click",this.toggleMobileMenu.bind(this))},swapHomeMenu:function(){this.$mainHeader.first().addClass("display-none"),this.$frontPageNav.removeClass("display-none")},handleStickyNav:function(a){"down"===a?this.$mainHeader.addClass("main-header--fixed").css("opacity","0.9").fadeIn(250):this.$mainHeader.removeClass("main-header--fixed").css("display","none")},smoothScroll:function(b){b.preventDefault(),a("html, body").animate({scrollTop:a(b.target.hash).offset().top-70},500)},toggleMobileMenu:function(b){b.preventDefault(),console.log("fired"),this.$mobileMenu.siblings(".main-header__social-icons-list").hasClass("menu-slide-in")?a("#menu-menu-1, #menu-menu-2, .main-header__social-icons-list").removeClass("menu-slide-in").addClass("menu-slide-out"):a("#menu-menu-1, #menu-menu-2, .main-header__social-icons-list").removeClass("menu-slide-out").addClass("menu-slide-in")}},d={init:function(){this.$heroArea=a(".hero-area"),this.$heroAreaTextContainer=this.$heroArea.find(".hero-area__text-container"),this.$parallaxBackground=this.$heroArea.find(".parallax-bg"),this.initDom(),this.initEvents()},initDom:function(){var a=b.$win.height(),c=this.$heroAreaTextContainer.height();this.$heroArea.css("height",a),this.$heroAreaTextContainer.css("padding-top",(a-c)/2-70)},initEvents:function(){b.$win.scroll(this.parallaxEffect.bind(this))},parallaxEffect:function(){var a=b.$win.scrollTop();this.$parallaxBackground.css("top",-(.2*a)+"px")}},e={init:function(){this.$projectText=a(".portfolio__project__text"),this.initDom()},initDom:function(){this.sizeProjectImages()},sizeProjectImages:function(){var b=this.$projectText.height();this.$projectText.each(function(){a(this).siblings().find(".attachment-post-thumbnail").css("max-height",b)})}},f={init:function(){this.$projectPreviewImages=a(".project-preview-image"),this.$pageHeader=a(".page-sub-header__text h1"),this.initEvents()},initEvents:function(){this.$projectPreviewImages.on("click",this.loadCarousel.bind(this))},loadCarousel:function(b){b.preventDefault();var c=a(b.target),d=this.$pageHeader.data("post-id"),e="";e=c.is("a")?c.data("image-no"):c.parents(".project-preview-image").data("image-no");var g=this;a.ajax({url:"../../wp-admin/admin-ajax.php",type:"POST",data:"action=image_carousel&post_id="+d+"&template=images-carousel&start="+e,success:function(b){a("body").append(b),g.centerCarousel();var c=a(".project-section__images-carousel"),d=a(".project-section__images-carousel__overlay");a(".carousel-button").click(function(b){b.preventDefault();var c=a(this),d=(a(".carousel-images-list"),a(".carousel-images-list").find(".current")),e=d.prev(),h=d.next();c.hasClass("previous")?(d.prev().is("li")?(d.hide().removeClass("current"),e.fadeIn(150).addClass("current")):(d.hide().removeClass("current"),a(".carousel-images-list li").last().fadeIn(150).addClass("current")),f.centerCarousel()):(h.is("li")?(d.hide().removeClass("current"),h.fadeIn(150).addClass("current")):(d.hide().removeClass("current"),a(".carousel-images-list li").first().fadeIn(150).addClass("current")),g.centerCarousel())}),d.click(function(){c.remove(),d.remove()}),a(".carousel-exit").click(function(a){a.preventDefault(),c.remove(),d.remove()})}})},centerCarousel:function(){var c=b.$win.outerHeight(),d=a(".project-section__images-carousel"),e=(c-d.outerHeight())/2;d.css("top",e)}},g={init:function(){this.$button=a(".btn"),this.initEvents()},initEvents:function(){this.$button.hover(this.animateButton.bind(this),this.stopAnimateButton.bind(this))},animateButton:function(b){var c=a(b.target).find(".btn__arrow");c.hasClass("down")?c.addClass("bounce-down"):c.hasClass("up")?c.addClass("bounce-up"):c.hasClass("right")?c.addClass("bounce-right"):c.hasClass("btn__github-logo")&&c.addClass("github-pulse")},stopAnimateButton:function(b){var c=a(b.target).find(".btn__arrow");c.hasClass("down")&&!c.parents(".btn").hasClass("see-work-button")?c.removeClass("bounce-down"):c.hasClass("up")?c.removeClass("bounce-up"):c.hasClass("right")&&c.removeClass("bounce-right")}},h={init:function(){this.$blogPost=a(".blog-section__post"),this.$postSubContent=this.$blogPost.find("p, .tags-list, .attachment-post-thumbnail"),this.$postButton=this.$blogPost.find(".blog-section__post__button"),this.$morePostsSection=a(".blog-section__more-posts"),this.$morePostsButton=this.$morePostsSection.find(".more-posts-btn"),this.$loadingSpinner=this.$morePostsSection.find(".ajax-spinner"),this.pageNumber=2,this.initDom(),this.initEvents()},initDom:function(){this.$postSubContent.addClass("close")},initEvents:function(){this.$postButton.on("click",this.togglePostView.bind(this)),this.$morePostsButton.on("click",this.loadMorePosts.bind(this))},togglePostView:function(b){b.preventDefault();var c=a(b.target),d=c.is("a")?c:c.parents(".btn"),e=d.children(".btn__arrow").hasClass("down");e?(d.html('Close<div class="btn__arrow black"></div>').children(".btn__arrow").addClass("btn__arrow--flip up"),d.siblings("p:not(:first-of-type), .tags-list, .attachment-post-thumbnail").fadeIn(200,function(){d.siblings("p, .tags-list, .attachment-post-thumbnail").removeClass("close").addClass("open")}),d.addClass("btn--right")):(d.html('See more<div class="btn__arrow black"></div>').children(".btn__arrow").addClass("down"),d.siblings("p:not(:first-of-type), .tags-list, .attachment-post-thumbnail").fadeOut(200,function(){d.siblings("p, .tags-list, .attachment-post-thumbnail").removeClass("open").addClass("close")}),d.removeClass("btn--right"),d.parents(".blog-section__post .open").removeClass("open").addClass("close"))},loadMorePosts:function(c){if(c.preventDefault(),b.isBlog){this.$morePostsButton.hide(),this.$loadingSpinner.fadeIn(100);var d=this;a.ajax({url:"../wp-admin/admin-ajax.php",type:"POST",data:"action=infinite_scroll&page_no="+this.pageNumber+"&loop_file=more-posts",success:function(b){a(".page-content__content-left").append(b),a("p, .tags-list, .attachment-post-thumbnail").each(function(){a(this).addClass("close")}),d.$morePostsButton.on("click",function(a){a.preventDefault(),h.togglePostView(a)}).hover(function(a){g.animateButton(a)},function(a){g.stopAnimateButton(a)});var c=a(".blog-section__post").last().hasClass("last-set");d.$loadingSpinner.fadeOut(100),c?d.$morePostsButton.remove():d.$morePostsButton.show()}}),this.pageNumber++}},removeMorePostsButton:function(){this.$morePostsButton.remove()}},i={init:function(){this.isError=!1,this.$form=a(".wpcf7-form"),this.$formNameInput=this.$form.find(".contact-form__name input"),this.$formEmailInput=this.$form.find(".contact-form__email input"),this.$formMessageTextarea=this.$form.find(".contact-form__message textarea"),this.$submitButton=this.$form.find(".wpcf7-submit"),this.initDom(),this.initEvents()},initDom:function(){var a=this.$submitButton.outerWidth(),b=a-38;this.$submitButton.css("background-position",b+"px 50%")},initEvents:function(){this.$form.on("focus",this.removeErrorFormatting.bind(this)),this.$form.on("focus",".form-error-background",this.removeErrorFormatting.bind(this)),this.$submitButton.on("click",this.validateForm.bind(this))},validateForm:function(a){this.isError=!1,(void 0===this.$formNameInput.val()||""===this.$formNameInput.val())&&(a.preventDefault(),this.isError=!0,this.$formNameInput.attr("placeholder","Don't forget your name!").addClass("form-error-background")),(null===this.$formEmailInput.val()||""===this.$formEmailInput.val())&&(a.preventDefault(),this.isError=!0,this.$formEmailInput.attr("placeholder","You forgot your email!").addClass("form-error-background")),(null===this.$formMessageTextarea.val()||""===this.$formMessageTextarea.val())&&(a.preventDefault(),this.isError=!0,this.$formMessageTextarea.attr("placeholder","Surely you have something to say!").addClass("form-error-background")),this.isError||this.removeForm()},removeErrorFormatting:function(b){a(b.target).removeClass("form-error-background").attr("placeholder","")},removeForm:function(){this.$form.find("div").not(".wpcf7-response-output").fadeOut(250)}};a(document).ready(function(){b.init(),g.init(),e.init(),i.init(),h.init(),f.init(),c.init(),b.isHome&&d.init()})}(jQuery),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},b=[].slice;!function(a,b){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(c){return b(c,a)}):b(a.jQuery,a)}(window,function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return e=c(d),l=a.call(d,"ontouchstart")>=0,h={horizontal:{},vertical:{}},i=1,k={},j="waypoints-context-id",o="resize.waypoints",p="scroll.waypoints",q=1,r="waypoints-waypoint-ids",s="waypoint",t="waypoints",f=function(){function a(a){var b=this;this.$element=a,this.element=a[0],this.didResize=!1,this.didScroll=!1,this.id="context"+i++,this.oldScroll={x:a.scrollLeft(),y:a.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[j]=this.id,k[this.id]=this,a.bind(p,function(){var a;return b.didScroll||l?void 0:(b.didScroll=!0,a=function(){return b.doScroll(),b.didScroll=!1},d.setTimeout(a,c[t].settings.scrollThrottle))}),a.bind(o,function(){var a;return b.didResize?void 0:(b.didResize=!0,a=function(){return c[t]("refresh"),b.didResize=!1},d.setTimeout(a,c[t].settings.resizeThrottle))})}return a.prototype.doScroll=function(){var a,b=this;return a={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!l||a.vertical.oldScroll&&a.vertical.newScroll||c[t]("refresh"),c.each(a,function(a,d){var e,f,g;return g=[],f=d.newScroll>d.oldScroll,e=f?d.forward:d.backward,c.each(b.waypoints[a],function(a,b){var c,e;return d.oldScroll<(c=b.offset)&&c<=d.newScroll?g.push(b):d.newScroll<(e=b.offset)&&e<=d.oldScroll?g.push(b):void 0}),g.sort(function(a,b){return a.offset-b.offset}),f||g.reverse(),c.each(g,function(a,b){return b.options.continuous||a===g.length-1?b.trigger([e]):void 0})}),this.oldScroll={x:a.horizontal.newScroll,y:a.vertical.newScroll}},a.prototype.refresh=function(){var a,b,d,e=this;return d=c.isWindow(this.element),b=this.$element.offset(),this.doScroll(),a={horizontal:{contextOffset:d?0:b.left,contextScroll:d?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:d?0:b.top,contextScroll:d?0:this.oldScroll.y,contextDimension:d?c[t]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},c.each(a,function(a,b){return c.each(e.waypoints[a],function(a,d){var e,f,g,h,i;return e=d.options.offset,g=d.offset,f=c.isWindow(d.element)?0:d.$element.offset()[b.offsetProp],c.isFunction(e)?e=e.apply(d.element):"string"==typeof e&&(e=parseFloat(e),d.options.offset.indexOf("%")>-1&&(e=Math.ceil(b.contextDimension*e/100))),d.offset=f-b.contextOffset+b.contextScroll-e,d.options.onlyOnScroll&&null!=g||!d.enabled?void 0:null!==g&&g<(h=b.oldScroll)&&h<=d.offset?d.trigger([b.backward]):null!==g&&g>(i=b.oldScroll)&&i>=d.offset?d.trigger([b.forward]):null===g&&b.oldScroll>=d.offset?d.trigger([b.forward]):void 0})})},a.prototype.checkEmpty=function(){return c.isEmptyObject(this.waypoints.horizontal)&&c.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([o,p].join(" ")),delete k[this.id]):void 0},a}(),g=function(){function a(a,b,d){var e,f;"bottom-in-view"===d.offset&&(d.offset=function(){var a;return a=c[t]("viewportHeight"),c.isWindow(b.element)||(a=b.$element.height()),a-c(this).outerHeight()}),this.$element=a,this.element=a[0],this.axis=d.horizontal?"horizontal":"vertical",this.callback=d.handler,this.context=b,this.enabled=d.enabled,this.id="waypoints"+q++,this.offset=null,this.options=d,b.waypoints[this.axis][this.id]=this,h[this.axis][this.id]=this,e=null!=(f=this.element[r])?f:[],e.push(this.id),this.element[r]=e}return a.prototype.trigger=function(a){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,a),this.options.triggerOnce?this.destroy():void 0):void 0},a.prototype.disable=function(){return this.enabled=!1},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},a.prototype.destroy=function(){return delete h[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},a.getWaypointsByElement=function(a){var b,d;return(d=a[r])?(b=c.extend({},h.horizontal,h.vertical),c.map(d,function(a){return b[a]})):[]},a}(),n={init:function(a,b){var d;return b=c.extend({},c.fn[s].defaults,b),null==(d=b.handler)&&(b.handler=a),this.each(function(){var a,d,e,h;return a=c(this),e=null!=(h=b.context)?h:c.fn[s].defaults.context,c.isWindow(e)||(e=a.closest(e)),e=c(e),d=k[e[0][j]],d||(d=new f(e)),new g(a,d,b)}),c[t]("refresh"),this},disable:function(){return n._invoke.call(this,"disable")},enable:function(){return n._invoke.call(this,"enable")},destroy:function(){return n._invoke.call(this,"destroy")},prev:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b>0?a.push(c[b-1]):void 0})},next:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b<c.length-1?a.push(c[b+1]):void 0})},_traverse:function(a,b,e){var f,g;return null==a&&(a="vertical"),null==b&&(b=d),g=m.aggregate(b),f=[],this.each(function(){var b;return b=c.inArray(this,g[a]),e(f,b,g[a])}),this.pushStack(f)},_invoke:function(a){return this.each(function(){var b;return b=g.getWaypointsByElement(this),c.each(b,function(b,c){return c[a](),!0})}),this}},c.fn[s]=function(){var a,d;return d=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],n[d]?n[d].apply(this,a):c.isFunction(d)?n.init.apply(this,arguments):c.isPlainObject(d)?n.init.apply(this,[null,d]):c.error(d?"The "+d+" method does not exist in jQuery Waypoints.":"jQuery Waypoints needs a callback function or handler option.")},c.fn[s].defaults={context:d,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},m={refresh:function(){return c.each(k,function(a,b){return b.refresh()})},viewportHeight:function(){var a;return null!=(a=d.innerHeight)?a:e.height()},aggregate:function(a){var b,d,e;return b=h,a&&(b=null!=(e=k[c(a)[0][j]])?e.waypoints:void 0),b?(d={horizontal:[],vertical:[]},c.each(d,function(a,e){return c.each(b[a],function(a,b){return e.push(b)}),e.sort(function(a,b){return a.offset-b.offset}),d[a]=c.map(e,function(a){return a.element}),d[a]=c.unique(d[a])}),d):[]},above:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset<=a.oldScroll.y})},below:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset>a.oldScroll.y})},left:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset<=a.oldScroll.x})},right:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset>a.oldScroll.x})},enable:function(){return m._invoke("enable")},disable:function(){return m._invoke("disable")},destroy:function(){return m._invoke("destroy")},extendFn:function(a,b){return n[a]=b},_invoke:function(a){var b;return b=c.extend({},h.vertical,h.horizontal),c.each(b,function(b,c){return c[a](),!0})},_filter:function(a,b,d){var e,f;return(e=k[c(a)[0][j]])?(f=[],c.each(e.waypoints[b],function(a,b){return d(e,b)?f.push(b):void 0}),f.sort(function(a,b){return a.offset-b.offset}),c.map(f,function(a){return a.element})):[]}},c[t]=function(){var a,c;return c=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],m[c]?m[c].apply(null,a):m.aggregate.call(null,c)},c[t].settings={resizeThrottle:100,scrollThrottle:30},e.on("load.waypoints",function(){return c[t]("refresh")})})}.call(this);