!function(a){"use strict";var b={init:function(){this.$win=a(window),this.bodyClass=a("body").data("page-id"),this.determinePageTemplate(this.bodyClass)},determinePageTemplate:function(a){switch(a){case"front-page":this.isHome=!0;break;case"blog-page":this.isBlog=!0;break;case"about-page":this.isAbout=!0;break;case"contact-page":this.isContact=!0;break;case"project-page":this.isProject=!0;break;default:this.isOther=!0}}},c={init:function(){this.$mainHeader=a(".main-header"),this.$frontPageNav=a(".front-page-nav"),this.$mobileMenu=a(".main-nav__mobile-menu"),this.$navAnchorLink=this.$frontPageNav.find("li.menu-item:first-child a"),this.$heroButton=a(".see-work-button"),this.initEvents()},initEvents:function(){b.isHome&&(this.swapHomeMenu(),this.$heroButton.waypoint(this.handleStickyNav.bind(this)),this.$navAnchorLink.on("click",this.smoothScroll.bind(this)),this.$heroButton.on("click",this.smoothScroll.bind(this))),this.$mobileMenu.on("click",this.toggleMobileMenu.bind(this))},swapHomeMenu:function(){this.$mainHeader.first().addClass("display-none"),this.$frontPageNav.removeClass("display-none")},handleStickyNav:function(a){"down"===a?this.$mainHeader.addClass("main-header--fixed").css("opacity","0.9").fadeIn(250):this.$mainHeader.removeClass("main-header--fixed").css("display","none")},smoothScroll:function(b){b.preventDefault(),a("html, body").animate({scrollTop:a(b.target.hash).offset().top-70},500)},toggleMobileMenu:function(b){b.preventDefault(),console.log("fired"),this.$mobileMenu.siblings(".main-header__social-icons-list").hasClass("menu-slide-in")?a("#menu-menu-1, #menu-menu-2, .main-header__social-icons-list").removeClass("menu-slide-in").addClass("menu-slide-out"):a("#menu-menu-1, #menu-menu-2, .main-header__social-icons-list").removeClass("menu-slide-out").addClass("menu-slide-in")}},d={init:function(){this.$heroArea=a(".hero-area"),this.$heroAreaTextContainer=this.$heroArea.find(".hero-area__text-container"),this.$parallaxBackground=this.$heroArea.find(".parallax-bg"),this.initDom(),this.initEvents()},initDom:function(){var a=b.$win.height(),c=this.$heroAreaTextContainer.height();this.$heroArea.css("height",a),this.$heroAreaTextContainer.css("padding-top",(a-c)/2-70)},initEvents:function(){b.$win.scroll(this.parallaxEffect.bind(this))},parallaxEffect:function(){var a=b.$win.scrollTop();this.$parallaxBackground.css("top",-(.2*a)+"px")}},e={init:function(){this.$projectText=a(".portfolio__project__text"),this.initDom()},initDom:function(){this.sizeProjectImages()},sizeProjectImages:function(){var b=this.$projectText.height();this.$projectText.each(function(){a(this).siblings().find(".attachment-post-thumbnail").css("max-height",b)})}},f={init:function(){this.$projectPreviewImages=a(".project-preview-image"),this.$pageHeader=a(".page-sub-header__text h1"),this.initEvents()},initEvents:function(){this.$projectPreviewImages.on("click",this.loadCarousel.bind(this))},loadCarousel:function(b){b.preventDefault();var c=a(b.target),d=this.$pageHeader.data("post-id"),e="";e=c.is("a")?c.data("image-no"):c.parents(".project-preview-image").data("image-no");var g=this;a.ajax({url:"../../wp-admin/admin-ajax.php",type:"POST",data:"action=image_carousel&post_id="+d+"&template=images-carousel&start="+e,success:function(b){a("body").append(b),g.centerCarousel();var c=a(".project-section__images-carousel"),d=a(".project-section__images-carousel__overlay");a(".carousel-button").click(function(b){b.preventDefault();var c=a(this),d=(a(".carousel-images-list"),a(".carousel-images-list").find(".current")),e=d.prev(),h=d.next();c.hasClass("previous")?(d.prev().is("li")?(d.hide().removeClass("current"),e.fadeIn(150).addClass("current")):(d.hide().removeClass("current"),a(".carousel-images-list li").last().fadeIn(150).addClass("current")),f.centerCarousel()):(h.is("li")?(d.hide().removeClass("current"),h.fadeIn(150).addClass("current")):(d.hide().removeClass("current"),a(".carousel-images-list li").first().fadeIn(150).addClass("current")),g.centerCarousel())}),d.click(function(){c.remove(),d.remove()}),a(".carousel-exit").click(function(a){a.preventDefault(),c.remove(),d.remove()})}})},centerCarousel:function(){var c=b.$win.outerHeight(),d=a(".project-section__images-carousel"),e=(c-d.outerHeight())/2;d.css("top",e)}},g={init:function(){this.$button=a(".btn"),this.initEvents()},initEvents:function(){this.$button.hover(this.animateButton.bind(this),this.stopAnimateButton.bind(this))},animateButton:function(b){var c=a(b.target).find(".btn__arrow");c.hasClass("down")?c.addClass("bounce-down"):c.hasClass("up")?c.addClass("bounce-up"):c.hasClass("right")?c.addClass("bounce-right"):c.hasClass("btn__github-logo")&&c.addClass("github-pulse")},stopAnimateButton:function(b){var c=a(b.target).find(".btn__arrow");c.hasClass("down")&&!c.parents(".btn").hasClass("see-work-button")?c.removeClass("bounce-down"):c.hasClass("up")?c.removeClass("bounce-up"):c.hasClass("right")&&c.removeClass("bounce-right")}},h={init:function(){this.$blogPost=a(".blog-section__post"),this.$postSubContent=this.$blogPost.find("p, .tags-list, .attachment-post-thumbnail"),this.$postButton=this.$blogPost.find(".blog-section__post__button"),this.$morePostsSection=a(".blog-section__more-posts"),this.$morePostsButton=this.$morePostsSection.find(".more-posts-btn"),this.$loadingSpinner=this.$morePostsSection.find(".ajax-spinner"),this.pageNumber=2,this.initDom(),this.initEvents()},initDom:function(){this.$postSubContent.addClass("close")},initEvents:function(){this.$postButton.on("click",this.togglePostView.bind(this)),this.$morePostsButton.on("click",this.loadMorePosts.bind(this))},togglePostView:function(b){b.preventDefault();var c=a(b.target),d=c.is("a")?c:c.parents(".btn"),e=d.children(".btn__arrow").hasClass("down");e?(d.html('Close<div class="btn__arrow black"></div>').children(".btn__arrow").addClass("btn__arrow--flip up"),d.siblings("p:not(:first-of-type), .tags-list, .attachment-post-thumbnail").fadeIn(200,function(){d.siblings("p, .tags-list, .attachment-post-thumbnail").removeClass("close").addClass("open")}),d.addClass("btn--right")):(d.html('See more<div class="btn__arrow black"></div>').children(".btn__arrow").addClass("down"),d.siblings("p:not(:first-of-type), .tags-list, .attachment-post-thumbnail").fadeOut(200,function(){d.siblings("p, .tags-list, .attachment-post-thumbnail").removeClass("open").addClass("close")}),d.removeClass("btn--right"),d.parents(".blog-section__post .open").removeClass("open").addClass("close"))},loadMorePosts:function(c){c.preventDefault(),b.isBlog&&(this.$morePostsButton.hide(),this.$loadingSpinner.fadeIn(100),a.ajax({url:"../wp-admin/admin-ajax.php",type:"POST",data:"action=infinite_scroll&page_no="+this.pageNumber+"&loop_file=more-posts",success:function(b){a(".page-content__content-left").append(b),a("p, .tags-list, .attachment-post-thumbnail").each(function(){a(this).addClass("close")}),a(".blog-section__post__button").on("click",function(a){a.preventDefault(),h.togglePostView(a)}).hover(function(a){g.animateButton(a)},function(a){g.stopAnimateButton(a)});var c=a(".blog-section__post").last().hasClass("last-set");console.log(c),c&&a(".more-posts-btn").remove()}}),this.$loadingSpinner.fadeOut(100),this.$morePostsButton.fadeIn(500),this.pageNumber++)},removeMorePostsButton:function(){this.$morePostsButton.remove()}},i={init:function(){this.isError=!1,this.$form=a(".wpcf7-form"),this.$formNameInput=this.$form.find(".contact-form__name input"),this.$formEmailInput=this.$form.find(".contact-form__email input"),this.$formMessageTextarea=this.$form.find(".contact-form__message textarea"),this.$submitButton=this.$form.find(".wpcf7-submit"),this.initDom(),this.initEvents()},initDom:function(){var a=this.$submitButton.outerWidth(),b=a-38;this.$submitButton.css("background-position",b+"px 50%")},initEvents:function(){this.$form.on("focus",this.removeErrorFormatting.bind(this)),this.$form.on("focus",".form-error-background",this.removeErrorFormatting.bind(this)),this.$submitButton.on("click",this.validateForm.bind(this))},validateForm:function(a){this.isError=!1,(void 0===this.$formNameInput.val()||""===this.$formNameInput.val())&&(a.preventDefault(),this.isError=!0,this.$formNameInput.attr("placeholder","Don't forget your name!").addClass("form-error-background")),(null===this.$formEmailInput.val()||""===this.$formEmailInput.val())&&(a.preventDefault(),this.isError=!0,this.$formEmailInput.attr("placeholder","You forgot your email!").addClass("form-error-background")),(null===this.$formMessageTextarea.val()||""===this.$formMessageTextarea.val())&&(a.preventDefault(),this.isError=!0,this.$formMessageTextarea.attr("placeholder","Surely you have something to say!").addClass("form-error-background")),this.isError||this.removeForm()},removeErrorFormatting:function(b){a(b.target).removeClass("form-error-background").attr("placeholder","")},removeForm:function(){this.$form.find("div").not(".wpcf7-response-output").fadeOut(250)}};a(document).ready(function(){b.init(),g.init(),e.init(),i.init(),h.init(),f.init(),c.init(),b.isHome&&d.init()})}(jQuery);